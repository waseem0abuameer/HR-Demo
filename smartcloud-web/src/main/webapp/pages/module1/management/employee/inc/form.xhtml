<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:jk="http://jalalkiswani.com/jsf"
	xmlns:p="http://primefaces.org/ui" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition>
	<h:form id="frmEmployee" enctype="multipart/form-data">
	<p:autoUpdate />
	<p:panelGrid columns="6" style="margin:auto;" styleClass="shaddow">
		<f:facet name="header">Employee Record</f:facet>

 
    
	<p:outputLabel value="Name" for="name"/>	
	
	<p:inputText type="text" value="#{mbEmployee.model.name}" id="name"  placeholder="Name" disabled="#{mbEmployee.inputDisabled}" required="false" styleClass="#{mbEmployee.isFieldModified('name')?'input-modified':''}" title="#{mbEmployee.original.name}">
	  <p:ajax />
	</p:inputText>

 
    
	<p:outputLabel value="Email" for="email"/>	
	
	<p:inputText type="email" value="#{mbEmployee.model.email}" id="email"  placeholder="Email" disabled="#{mbEmployee.inputDisabled}" required="false" styleClass="#{mbEmployee.isFieldModified('email')?'input-modified':''}" title="#{mbEmployee.original.email}">
	  <p:ajax />
	</p:inputText>

 
    
	<p:outputLabel value="Salary" for="salary"/>	
	
	<p:inputText type="number" value="#{mbEmployee.model.salary}" id="salary"  placeholder="Salary" disabled="#{mbEmployee.inputDisabled}" required="false" styleClass="#{mbEmployee.isFieldModified('salary')?'input-modified':''}" title="#{mbEmployee.original.salary}">
	  <p:ajax />
	</p:inputText>

 
    
	<p:outputLabel value="Department" for="department"/>	
	
    	<p:selectOneMenu value="#{mbEmployee.model.department}" id="department" disabled="#{mbEmployee.inputDisabled}" converter="omnifaces.SelectItemsIndexConverter" styleClass="#{mbEmployee.isFieldModified('department')?'input-modified':''}" title="#{mbEmployee.original.department}">
    	  <p:ajax />  
    	  <f:selectItem itemLabel="" itemValue="#{null}"  />
    	  <f:selectItems value="#{mbDepartment.modelList}" var="ref" itemLabel="#{ref.name}" itemValue="#{ref}"  />
    	</p:selectOneMenu>	
	

 
    
	<p:outputLabel value="Degree" for="degree"/>	
	
    	<p:selectOneMenu value="#{mbEmployee.model.degree}" id="degree" disabled="#{mbEmployee.inputDisabled}" converter="omnifaces.SelectItemsIndexConverter" styleClass="#{mbEmployee.isFieldModified('degree')?'input-modified':''}" title="#{mbEmployee.original.degree}">
    	  <p:ajax />  
    	  <f:selectItem itemLabel="" itemValue="#{null}"  />
    	  <f:selectItems value="#{mbDegree.modelList}" var="ref" itemLabel="#{ref.name}" itemValue="#{ref}"  />
    	</p:selectOneMenu>	
	
		<f:facet name="footer">			
		<div class="form-actions">
		<p:commandButton value="Add" action="#{mbEmployee.add}" rendered="#{mbEmployee.allowAdd}"  process="@form" icon="fa fa-save" styleClass="add"/>
		<p:commandButton value="Edit" action="#{mbEmployee.edit}"  rendered="#{mbEmployee.allowEdit}"  process="@this" icon="fa fa-edit" styleClass="edit"/>
		<ui:remove>
		<p:commandButton value="Duplicate" action="#{mbGenerator.duplicate()}"  rendered="#{mbGenerator.allowEdit}"  process="@this"/>
		</ui:remove>
		<p:commandButton value="Save" action="#{mbEmployee.save}" rendered="#{mbEmployee.allowSave}"  process="@form" icon="fa fa-save" styleClass="save"/>
		<p:commandButton value="Reset" action="#{mbEmployee.reset}" rendered="#{mbEmployee.allowReset}"  process="@this" icon="fas fa-undo" styleClass="reset"/>
		<p:commandButton value="Fill" action="#{mbEmployee.fill}" rendered="#{mbEmployee.allowFill}"  process="@this" icon="fas fa-fill" styleClass="fill"/>
		<p:commandButton value="Cancel Edit" action="#{mbEmployee.cancelEdit()}" rendered="#{mbEmployee.editMode}"  process="@this" styleClass="cancel-edit"/>
		<p:commandButton value="Delete" action="#{mbEmployee.delete}" rendered="#{mbEmployee.allowDelete}"  process="@this" icon="fa fa-trash" styleClass="delete">
		  	<p:confirm header="Confirmation" message="Are you sure that want to delete this record?" icon="fas fa-exclamation-triangle"/>
		</p:commandButton>
	
		<ui:fragment rendered="#{mbEmployee.mode == 'WORKFLOW' }">
			<p:commandButton value="Approve" action="#{mbEmployee.approvePayload(mbEmployee.payload.id)}" process="@this" />
			<p:commandButton value="Reject" action="#{mbEmployee.rejectPayload(mbEmployee.payload.id)}" process="@this" />						
		</ui:fragment>
		</div>				
		</f:facet>
	</p:panelGrid>		
	</h:form>
</ui:composition>
</html>
